!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PxtCloudAPI=e()}}(function(){return function o(i,u,f){function c(t,e){if(!u[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(s)return s(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=u[t]={exports:{}};i[t][0].call(a.exports,function(e){return c(i[t][1][e]||e)},a,a.exports,o,i,u,f)}return u[t].exports}for(var s="function"==typeof require&&require,e=0;e<f.length;e++)c(f[e]);return c}({1:[function(e,t,r){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),(n=r.Events||(r.Events={})).ChatNewMessage="new message",n.UserAddSelf="add self",n.UserLeft="user left",n.UserJoined="user joined",n.UserRemoveSelf="remove self",n.UserSelfInfo="self info",n.WorldSyncDiff="sync diff"},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("clone-deep"),o=e("deep-diff"),n=function(){function e(){this._synceddata={}}return e.prototype.addDataSource=function(e,t){var r=this._synceddata[e];return r||(this._synceddata[e]={source:t,current:t.data}),!!r},e.prototype.removeDataSource=function(e){return delete this._synceddata[e]},e.prototype.currentlySynced=function(e){var t=this._synceddata[e];return t&&t.current||null},e.prototype.syncData=function(e){var t=this._synceddata[e];if(!t||!t.source)return null;var r=t.source.cloner?t.source.cloner(t.source.data,a):a(t.source.data),n=o.diff(t.current,r)||[];return t.current=r,n},e.prototype.applyDataDiffs=function(e,t){var r=this._synceddata[e];r||(this._synceddata[e]={current:{}});var n=r.current;Array.isArray(t)?t.forEach(function(e){return o.applyChange(r.current,n,e)}):o.applyChange(r.current,n,t)},e}();r.DataRepo=n},{"clone-deep":4,"deep-diff":5}],3:[function(e,t,r){"use strict";function n(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),n(e("./api")),n(e("./datarepo"))},{"./api":1,"./datarepo":2}],4:[function(e,t,r){"use strict";var n=e("is-plain-object"),a=e("shallow-clone"),o=e("kind-of"),i=e("for-own");function u(e,t){switch(o(e)){case"object":return function(e,r){if(n(e)||!0===r&&"object"===o(e)){var t={};return i(e,function(e,t){this[t]=u(e,r)},t),t}if("function"==typeof r)return r(e);return e}(e,t);case"array":return function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=u(e[n],t);return r}(e,t);default:return a(e)}}t.exports=u},{"for-own":7,"is-plain-object":8,"kind-of":10,"shallow-clone":13}],5:[function(e,a,o){!function(e,t){var r=function(e){var i=["N","E","A","D"];function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function j(e,t,r){j.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function w(e,t){w.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function x(e,t){x.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function D(e,t,r){D.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function u(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function O(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function f(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t}function k(e){var t=0,r=O(e);if("array"===r){e.forEach(function(e){t+=k(e)});var n="[type: array, hash: "+t+"]";return t+f(n)}if("object"===r){for(var a in e)if(e.hasOwnProperty(a)){var o="[ type: object, key: "+a+", value hash: "+k(e[a])+"]";t+=f(o)}return t}var i="[ type: "+r+" ; value: "+e+"]";return t+f(i)}function A(e,t,r,n,a,o,i,u){r=r||[],i=i||[];var f=(a=a||[]).slice(0);if(null!=o){if(n){if("function"==typeof n&&n(f,o))return;if("object"==typeof n){if(n.prefilter&&n.prefilter(f,o))return;if(n.normalize){var c=n.normalize(f,o,e,t);c&&(e=c[0],t=c[1])}}}f.push(o)}"regexp"===O(e)&&"regexp"===O(t)&&(e=e.toString(),t=t.toString());var s,l,p,h,d=typeof e,y=typeof t,b="undefined"!==d||i&&0<i.length&&i[i.length-1].lhs&&Object.getOwnPropertyDescriptor(i[i.length-1].lhs,o),v="undefined"!==y||i&&0<i.length&&i[i.length-1].rhs&&Object.getOwnPropertyDescriptor(i[i.length-1].rhs,o);if(!b&&v)r.push(new w(f,t));else if(!v&&b)r.push(new x(f,e));else if(O(e)!==O(t))r.push(new j(f,e,t));else if("date"===O(e)&&e-t!=0)r.push(new j(f,e,t));else if("object"===d&&null!==e&&null!==t){for(s=i.length-1;-1<s;--s)if(i[s].lhs===e){h=!0;break}if(h)e!==t&&r.push(new j(f,e,t));else{if(i.push({lhs:e,rhs:t}),Array.isArray(e)){for(u&&(e.sort(function(e,t){return k(e)-k(t)}),t.sort(function(e,t){return k(e)-k(t)})),s=t.length-1,l=e.length-1;l<s;)r.push(new D(f,s,new w(void 0,t[s--])));for(;s<l;)r.push(new D(f,l,new x(void 0,e[l--])));for(;0<=s;--s)A(e[s],t[s],r,n,f,s,i,u)}else{var g=Object.keys(e),m=Object.keys(t);for(s=0;s<g.length;++s)p=g[s],0<=(h=m.indexOf(p))?(A(e[p],t[p],r,n,f,p,i,u),m[h]=null):A(e[p],void 0,r,n,f,p,i,u);for(s=0;s<m.length;++s)(p=m[s])&&A(void 0,t[p],r,n,f,p,i,u)}i.length=i.length-1}}else e!==t&&("number"===d&&isNaN(e)&&isNaN(t)||r.push(new j(f,e,t)))}function c(e,t,r,n,a){var o=[];if(A(e,t,o,n,null,null,null,a),r)for(var i=0;i<o.length;++i)r(o[i]);return o}function n(e,t,r,n){var a=n?function(e){e&&n.push(e)}:void 0,o=c(e,t,a,r);return n||(o.length?o:void 0)}function a(e,t,r){if(void 0===r&&t&&~i.indexOf(t.kind)&&(r=t),e&&r&&r.kind){for(var n=e,a=-1,o=r.path?r.path.length-1:0;++a<o;)void 0===n[r.path[a]]&&(n[r.path[a]]=void 0!==r.path[a+1]&&"number"==typeof r.path[a+1]?[]:{}),n=n[r.path[a]];switch(r.kind){case"A":r.path&&void 0===n[r.path[a]]&&(n[r.path[a]]=[]),function e(t,r,n){if(n.path&&n.path.length){var a,o=t[r],i=n.path.length-1;for(a=0;a<i;a++)o=o[n.path[a]];switch(n.kind){case"A":e(o[n.path[a]],n.index,n.item);break;case"D":delete o[n.path[a]];break;case"E":case"N":o[n.path[a]]=n.rhs}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":t=u(t,r);break;case"E":case"N":t[r]=n.rhs}return t}(r.path?n[r.path[a]]:n,r.index,r.item);break;case"D":delete n[r.path[a]];break;case"E":case"N":n[r.path[a]]=r.rhs}}}return t(j,r),t(w,r),t(x,r),t(D,r),Object.defineProperties(n,{diff:{value:n,enumerable:!0},orderIndependentDiff:{value:function(e,t,r,n){var a=n?function(e){e&&n.push(e)}:void 0,o=c(e,t,a,r,!0);return n||(o.length?o:void 0)},enumerable:!0},observableDiff:{value:c,enumerable:!0},orderIndependentObservableDiff:{value:function(e,t,r,n,a,o,i){return A(e,t,r,n,a,o,i,!0)},enumerable:!0},orderIndepHash:{value:k,enumerable:!0},applyDiff:{value:function(t,r,n){t&&r&&c(t,r,function(e){n&&!n(t,r,e)||a(t,r,e)})},enumerable:!0},applyChange:{value:a,enumerable:!0},revertChange:{value:function(e,t,r){if(e&&t&&r&&r.kind){var n,a,o=e;for(a=r.path.length-1,n=0;n<a;n++)void 0===o[r.path[n]]&&(o[r.path[n]]={}),o=o[r.path[n]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var a,o=t[r],i=n.path.length-1;for(a=0;a<i;a++)o=o[n.path[a]];switch(n.kind){case"A":e(o[n.path[a]],n.index,n.item);break;case"D":case"E":o[n.path[a]]=n.lhs;break;case"N":delete o[n.path[a]]}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":case"E":t[r]=n.lhs;break;case"N":t=u(t,r)}return t}(o[r.path[n]],r.index,r.item);break;case"D":case"E":o[r.path[n]]=r.lhs;break;case"N":delete o[r.path[n]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof $conflict},enumerable:!0}}),n.DeepDiff=n,e.DeepDiff=n}(e);if("object"==typeof o)a.exports=r;else{var n=e.DeepDiff;r.noConflict=function(){return e.DeepDiff===r&&(e.DeepDiff=n),r},e.DeepDiff=r}}(this)},{}],6:[function(e,t,r){"use strict";t.exports=function(e,t,r){for(var n in e)if(!1===t.call(r,e[n],n,e))break}},{}],7:[function(e,t,r){"use strict";var o=e("for-in"),i=Object.prototype.hasOwnProperty;t.exports=function(r,n,a){o(r,function(e,t){if(i.call(r,t))return n.call(a,r[t],t,r)})}},{"for-in":6}],8:[function(e,t,r){"use strict";var n=e("isobject");function a(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}t.exports=function(e){var t,r;return!1!==a(e)&&("function"==typeof(t=e.constructor)&&(!1!==a(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}},{isobject:9}],9:[function(e,t,r){"use strict";t.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},{}],10:[function(e,t,r){var u=Object.prototype.toString;function f(e){return e.constructor?e.constructor.name:null}t.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t,r,n,a,o,i=typeof e;if("boolean"===i)return"boolean";if("string"===i)return"string";if("number"===i)return"number";if("symbol"===i)return"symbol";if("function"===i)return"GeneratorFunction"===f(e)?"generatorfunction":"function";if(t=e,Array.isArray?Array.isArray(t):t instanceof Array)return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if((r=e)instanceof Date||"function"==typeof r.toDateString&&"function"==typeof r.getDate&&"function"==typeof r.setDate)return"date";if((n=e)instanceof Error||"string"==typeof n.message&&n.constructor&&"number"==typeof n.constructor.stackTraceLimit)return"error";if((a=e)instanceof RegExp||"string"==typeof a.flags&&"boolean"==typeof a.ignoreCase&&"boolean"==typeof a.multiline&&"boolean"==typeof a.global)return"regexp";switch(f(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if("function"==typeof(o=e).throw&&"function"==typeof o.return&&"function"==typeof o.next)return"generator";switch(i=u.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return i.slice(8,-1).toLowerCase().replace(/\s/g,"")}},{}],11:[function(e,t,r){"use strict";var a=e("is-extendable"),n=e("for-in");function o(r,e){a(e)&&n(e,function(e,t){r[t]=e})}t.exports=function(e,t){if(!a(e))throw new TypeError("expected the first argument to be an object");for(var r=arguments.length,n=0;++n<r;)o(e,arguments[n]);return e}},{"for-in":6,"is-extendable":12}],12:[function(e,t,r){"use strict";var n=e("is-plain-object");t.exports=function(e){return n(e)||"function"==typeof e||Array.isArray(e)}},{"is-plain-object":8}],13:[function(e,t,r){"use strict";var n=e("is-extendable"),a=e("mixin-object"),o=e("kind-of");function i(e){var t=o(e);return i.hasOwnProperty(t)?i[t](e):e}i.array=function(e){return e.slice()},i.date=function(e){return new Date(+e)},i.object=function(e){return n(e)?a({},e):e},i.map=function(e){return new Map(e)},i.regexp=function(e){var t="";return t+=e.multiline?"m":"",t+=e.global?"g":"",t+=e.ignoreCase?"i":"",new RegExp(e.source,t)},i.set=function(e){return new Set(e)},t.exports=i},{"is-extendable":14,"kind-of":10,"mixin-object":11}],14:[function(e,t,r){arguments[4][12][0].apply(r,arguments)},{dup:12,"is-plain-object":8}]},{},[1,2,3])(3)});